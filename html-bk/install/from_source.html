

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Install from Source &mdash; tvm 0.5.dev documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/tvm_theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="&lt;no title&gt;" href="nnpack.html" />
    <link rel="prev" title="Installation" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/tvm-logo-small.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.5.dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Installation</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Install from Source</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#build-the-shared-library">Build the Shared Library</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#building-on-windows">Building on Windows</a></li>
<li class="toctree-l4"><a class="reference internal" href="#building-rocm-support">Building ROCm support</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#python-package-installation">Python Package Installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tvm-package">TVM package</a></li>
<li class="toctree-l4"><a class="reference internal" href="#python-dependencies">Python dependencies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#install-contrib-libraries">Install Contrib Libraries</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="docker.html">Docker Images</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vta/index.html">VTA: Deep Learning Accelerator Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deploy/index.html">Deploy and Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">Contribute to TVM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../langref/index.html">Language Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/python/index.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_links.html">Links to C++ and JS API References</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/index.html">Design and Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nnvm_top.html">NNVM Core Tensor Operators</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">tvm</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Installation</a> &raquo;</li>
        
      <li>Install from Source</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/install/from_source.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="install-from-source">
<span id="id1"></span><h1>Install from Source<a class="headerlink" href="#install-from-source" title="Permalink to this headline">¶</a></h1>
<p>This page gives instructions on how to build and install the tvm package from
scratch on various systems. It consists of two steps:</p>
<ol class="arabic simple">
<li><p>First build the shared library from the C++ codes (<cite>libtvm.so</cite> for linux/osx and <cite>libtvm.dll</cite> for windows).</p></li>
<li><p>Setup for the language packages (e.g. Python Package).</p></li>
</ol>
<p>To get started, clone tvm repo from github. It is important to clone the submodules along, with <code class="docutils literal notranslate"><span class="pre">--recursive</span></code> option.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone --recursive https://github.com/dmlc/tvm
</pre></div>
</div>
<p>For windows users who use github tools, you can open the git shell, and type the following command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git submodule init
git submodule update
</pre></div>
</div>
<div class="section" id="build-the-shared-library">
<h2>Build the Shared Library<a class="headerlink" href="#build-the-shared-library" title="Permalink to this headline">¶</a></h2>
<p>Our goal is to build the shared libraries:</p>
<ul class="simple">
<li><p>On Linux the target library are <cite>libtvm.so, libtvm_topi.so</cite></p></li>
<li><p>On OSX the target library are <cite>libtvm.dylib, libtvm_topi.dylib</cite></p></li>
<li><p>On Windows the target library are <cite>libtvm.dll, libtvm_topi.dll</cite></p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-get update
sudo apt-get install -y python python-dev python-setuptools gcc libtinfo-dev zlib1g-dev
</pre></div>
</div>
<p>The minimal building requirements are</p>
<ul class="simple">
<li><p>A recent c++ compiler supporting C++ 11 (g++-4.8 or higher)</p></li>
<li><p>CMake 3.5 or higher</p></li>
<li><p>We highly recommend to build with LLVM to enable all the features.</p></li>
<li><p>It is possible to build without llvm dependency if we only want to use CUDA/OpenCL</p></li>
</ul>
<p>We use cmake to build the library.
The configuration of tvm can be modified by <cite>config.cmake</cite>.</p>
<ul>
<li><p>First, check the cmake in your system, you do not have cmake
you can obtain the latest version from <a class="reference external" href="https://cmake.org/download/">official website</a></p></li>
<li><p>First create a build directory, copy the <code class="docutils literal notranslate"><span class="pre">cmake/config.cmake</span></code> to the directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir build
cp cmake/config.cmake build
</pre></div>
</div>
</li>
<li><p>Edit <code class="docutils literal notranslate"><span class="pre">build/config.cmake</span></code> to customize the compilation options</p>
<ul class="simple">
<li><p>On macOS, for some versions of XCode, you need to add <code class="docutils literal notranslate"><span class="pre">-lc++abi</span></code> in the LDFLAGS or you’ll get link errors.</p></li>
<li><p>Change <code class="docutils literal notranslate"><span class="pre">set(USE_CUDA</span> <span class="pre">OFF)</span></code> to <code class="docutils literal notranslate"><span class="pre">set(USE_CUDA</span> <span class="pre">ON)</span></code> to enable CUDA backend. So do other backends and libraries
(OpenCL, RCOM, METAL, VULKAN, …).</p></li>
</ul>
</li>
<li><p>TVM optionally depends on LLVM. LLVM is required for CPU codegen that needs LLVM.</p>
<ul class="simple">
<li><p>LLVM 4.0 or higher is needed for build with LLVM. Note that verison of LLVM from default apt may lower than 4.0.</p></li>
<li><p>Since LLVM takes long time to build from source, you can download pre-built version of LLVM from
[LLVM Download Page](<a class="reference external" href="http://releases.llvm.org/download.html">http://releases.llvm.org/download.html</a>).</p>
<ul>
<li><p>Unzip to a certain location, modify <code class="docutils literal notranslate"><span class="pre">build/config.cmake</span></code> to add <code class="docutils literal notranslate"><span class="pre">set(USE_LLVM</span> <span class="pre">/path/to/your/llvm/bin/llvm-config)</span></code></p></li>
<li><p>You can also directly set <code class="docutils literal notranslate"><span class="pre">set(USE_LLVM</span> <span class="pre">ON)</span></code> and let cmake search for a usable version of LLVM.</p></li>
</ul>
</li>
<li><p>You can also use [LLVM Nightly Ubuntu Build](<a class="reference external" href="https://apt.llvm.org/">https://apt.llvm.org/</a>)</p>
<ul>
<li><p>Note that apt-package append <code class="docutils literal notranslate"><span class="pre">llvm-config</span></code> with version number.
For example, set <code class="docutils literal notranslate"><span class="pre">set(LLVM_CONFIG</span> <span class="pre">llvm-config-4.0)</span></code> if you installed 4.0 package</p></li>
</ul>
</li>
</ul>
</li>
<li><p>We can then build tvm and related libraries.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> build
cmake ..
make -j4
</pre></div>
</div>
</li>
</ul>
<p>If everything goes well, we can go to <a class="reference internal" href="#python-package-installation"><span class="std std-ref">Python Package Installation</span></a></p>
<div class="section" id="building-on-windows">
<h3>Building on Windows<a class="headerlink" href="#building-on-windows" title="Permalink to this headline">¶</a></h3>
<p>TVM support build via MSVC using cmake. The minimum required VS version is <strong>Visual Studio Community 2015 Update 3</strong>.
In order to generate the VS solution file using cmake,
make sure you have a recent version of cmake added to your path and then from the tvm directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir build
<span class="nb">cd</span> build
cmake -G <span class="s2">&quot;Visual Studio 14 2015 Win64&quot;</span> -DCMAKE_BUILD_TYPE<span class="o">=</span>Release -DCMAKE_CONFIGURATION_TYPES<span class="o">=</span><span class="s2">&quot;Release&quot;</span> ..
</pre></div>
</div>
<p>This will generate the VS project using the MSVC 14 64 bit generator.
Open the .sln file in the build directory and build with Visual Studio.
In order to build with LLVM in windows, you will need to build LLVM from source.
You need to run build the nnvm by running the same script under the nnvm folder.</p>
</div>
<div class="section" id="building-rocm-support">
<h3>Building ROCm support<a class="headerlink" href="#building-rocm-support" title="Permalink to this headline">¶</a></h3>
<p>Currently, ROCm is supported only on linux, so all the instructions are written with linux in mind.</p>
<ul class="simple">
<li><p>Set <code class="docutils literal notranslate"><span class="pre">set(USE_ROCM</span> <span class="pre">ON)</span></code>, set ROCM_PATH to the correct path.</p></li>
<li><p>You need to first install HIP runtime from ROCm. Make sure the installation system has ROCm installed in it.</p></li>
<li><p>Install latest stable version of LLVM (v6.0.1), and LLD, make sure <code class="docutils literal notranslate"><span class="pre">ld.lld</span></code> is available via command line.</p></li>
</ul>
</div>
</div>
<div class="section" id="python-package-installation">
<span id="id2"></span><h2>Python Package Installation<a class="headerlink" href="#python-package-installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="tvm-package">
<h3>TVM package<a class="headerlink" href="#tvm-package" title="Permalink to this headline">¶</a></h3>
<p>The python package is located at <cite>tvm/python</cite>
There are several ways to install the package:</p>
<ol class="arabic">
<li><p>Set the environment variable <cite>PYTHONPATH</cite> to tell python where to find
the library. For example, assume we cloned <cite>tvm</cite> on the home directory
<cite>~</cite>. then we can added the following line in <cite>~/.bashrc</cite>.
It is <strong>recommended for developers</strong> who may change the codes.
The changes will be immediately reflected once you pulled the code and rebuild the project (no need to call <code class="docutils literal notranslate"><span class="pre">setup</span></code> again)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">TVM_HOME</span><span class="o">=</span>/path/to/tvm
<span class="nb">export</span> <span class="nv">PYTHONPATH</span><span class="o">=</span><span class="nv">$TVM_HOME</span>/python:<span class="nv">$TVM_HOME</span>/topi/python:<span class="nv">$TVM_HOME</span>/nnvm/python:<span class="si">${</span><span class="nv">PYTHONPATH</span><span class="si">}</span>
</pre></div>
</div>
</li>
<li><p>Install tvm python bindings by <cite>setup.py</cite>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># install tvm package for the current user</span>
<span class="c1"># NOTE: if you installed python via homebrew, --user is not needed during installaiton</span>
<span class="c1">#       it will be automatically installed to your user directory.</span>
<span class="c1">#       providing --user flag may trigger error during installation in such case.</span>
<span class="nb">export</span> <span class="nv">MACOSX_DEPLOYMENT_TARGET</span><span class="o">=</span><span class="m">10</span>.9  <span class="c1"># This is required for mac to avoid symbol conflicts with libstdc++</span>
<span class="nb">cd</span> python<span class="p">;</span> python setup.py install --user<span class="p">;</span> <span class="nb">cd</span> ..
<span class="nb">cd</span> topi/python<span class="p">;</span> python setup.py install --user<span class="p">;</span> <span class="nb">cd</span> ../..
<span class="nb">cd</span> nnvm/python<span class="p">;</span> python setup.py install --user<span class="p">;</span> <span class="nb">cd</span> ../..
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="python-dependencies">
<h3>Python dependencies<a class="headerlink" href="#python-dependencies" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p>Necessary dependencies:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install --user numpy decorator
</pre></div>
</div>
<ul class="simple">
<li><p>If you want to use RPC Tracker</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install --user tornado
</pre></div>
</div>
<ul class="simple">
<li><p>If you want to use auto-tuning module</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install --user tornado psutil xgboost
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="install-contrib-libraries">
<h2>Install Contrib Libraries<a class="headerlink" href="#install-contrib-libraries" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="nnpack.html" class="btn btn-neutral float-right" title="&lt;no title&gt;" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2017, tvm developers

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-75982049-2', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>