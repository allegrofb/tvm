

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>nnvm.compiler &mdash; tvm 0.5.dev documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/tvm_theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/gallery-dataframe.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="nnvm.frontend" href="frontend.html" />
    <link rel="prev" title="NNVM API" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html">
          

          
            
            <img src="../../../_static/tvm-logo-small.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.5.dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../install/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../vta/index.html">VTA: Deep Learning Accelerator Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../deploy/index.html">Deploy and Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contribute/index.html">Contribute to TVM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq.html">Frequently Asked Questions</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../langref/index.html">Language Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Python API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../tvm.html">tvm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intrin.html">tvm.intrin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tensor.html">tvm.tensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../schedule.html">tvm.schedule</a></li>
<li class="toctree-l2"><a class="reference internal" href="../target.html">tvm.target</a></li>
<li class="toctree-l2"><a class="reference internal" href="../build.html">tvm.build</a></li>
<li class="toctree-l2"><a class="reference internal" href="../module.html">tvm.module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ndarray.html">tvm.ndarray</a></li>
<li class="toctree-l2"><a class="reference internal" href="../container.html">tvm.container</a></li>
<li class="toctree-l2"><a class="reference internal" href="../function.html">tvm.Function</a></li>
<li class="toctree-l2"><a class="reference internal" href="../autotvm.html">tvm.autotvm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../graph_runtime.html">tvm.contrib.graph_runtime</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rpc.html">tvm.rpc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bridge.html">Framework Bridge APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contrib.html">Additional Contrib APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev.html">Developer API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topi.html">TOPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vta/index.html">VTA API</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">NNVM API</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">nnvm.compiler</a></li>
<li class="toctree-l3"><a class="reference internal" href="frontend.html">nnvm.frontend</a></li>
<li class="toctree-l3"><a class="reference internal" href="symbol.html">nnvm.symbol</a></li>
<li class="toctree-l3"><a class="reference internal" href="graph.html">nnvm.graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="top.html">nnvm.top</a></li>
<li class="toctree-l3"><a class="reference internal" href="testing.html">nnvm.testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="testing.html#module-nnvm.testing.check_computation">nnvm.testing.check_computation</a></li>
<li class="toctree-l3"><a class="reference internal" href="testing.html#testing-new-operations">Testing new operations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../hybrid.html">tvm.hybrid</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../api_links.html">Links to C++ and JS API References</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/index.html">Design and Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nnvm_top.html">NNVM Core Tensor Operators</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../genindex.html">Index</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">tvm</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Python API</a> &raquo;</li>
        
          <li><a href="index.html">NNVM API</a> &raquo;</li>
        
      <li>nnvm.compiler</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/api/python/nnvm/compiler.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-nnvm.compiler">
<span id="nnvm-compiler"></span><h1>nnvm.compiler<a class="headerlink" href="#module-nnvm.compiler" title="Permalink to this headline">¶</a></h1>
<p>NNVM compiler toolchain.</p>
<p>User only need to use <a class="reference internal" href="#nnvm.compiler.build" title="nnvm.compiler.build"><code class="xref any py py-func docutils literal notranslate"><span class="pre">build</span></code></a> and <a class="reference internal" href="#nnvm.compiler.build_config" title="nnvm.compiler.build_config"><code class="xref any py py-func docutils literal notranslate"><span class="pre">build_config</span></code></a> to do the compilation,
and <a class="reference internal" href="#nnvm.compiler.save_param_dict" title="nnvm.compiler.save_param_dict"><code class="xref any py py-func docutils literal notranslate"><span class="pre">save_param_dict</span></code></a> to save the parameters into bytes.
The other APIs are for more advanced interaction with the compiler toolchain.</p>
<dl class="py function">
<dt id="nnvm.compiler.build">
<code class="sig-prename descclassname">nnvm.compiler.</code><code class="sig-name descname">build</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">graph</span></em>, <em class="sig-param"><span class="n">target</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">shape</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dtype</span><span class="o">=</span><span class="default_value">'float32'</span></em>, <em class="sig-param"><span class="n">params</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">target_host</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">layout</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Build graph into runtime library.</p>
<p>The build function will optimize the graph and do the compilation.</p>
<p>When params is provided, the compiler might split the graph to
pre-compute certain values, so the final execution graph can
be different from the original one.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> (<a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph"><em>Graph</em></a>) – The graph to be used in lowering</p></li>
<li><p><strong>target</strong> (str or <a class="reference internal" href="../target.html#tvm.target.Target" title="tvm.target.Target"><code class="xref any py py-class docutils literal notranslate"><span class="pre">tvm.target.Target</span></code></a>, optional) – The build target</p></li>
<li><p><strong>shape</strong> (<em>dict of str to tuple</em><em>, </em><em>optional</em>) – The input shape to the graph</p></li>
<li><p><strong>dtype</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em> or </em><em>dict of str to str</em>) – The input types to the graph</p></li>
<li><p><strong>params</strong> (<em>dict of str to NDArray</em>) – Input parameters to the graph that do not change
during inference time. Used for pre-compute
folding optimization.</p></li>
<li><p><strong>target_host</strong> (str or <a class="reference internal" href="../target.html#tvm.target.Target" title="tvm.target.Target"><code class="xref any py py-class docutils literal notranslate"><span class="pre">tvm.target.Target</span></code></a> optional) – Host compilation target, if target is device.
When TVM compiles device specific program such as CUDA,
we also need host(CPU) side code to interact with the driver
setup the dimensions and parameters correctly.
target_host is used to specify the host side codegen target.
By default, llvm is used if it is enabled,
otherwise a stackvm intepreter is used.</p></li>
<li><p><strong>layout</strong> (<em>dict of str to str</em><em> or </em><em>str optional</em>) – The input layout</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>graph</strong> (<em>Graph</em>) – The final execution graph.</p></li>
<li><p><strong>libmod</strong> (<em>tvm.Module</em>) – The module that comes with the execution graph</p></li>
<li><p><strong>params</strong> (<em>dict of str to NDArray</em>) – The updated parameters of graph if params is passed.
This can be different from the params passed in.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nnvm.compiler.build_config">
<code class="sig-prename descclassname">nnvm.compiler.</code><code class="sig-name descname">build_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.build_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the build behavior by setting config variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>opt_level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>default=2</em>) – Optimization level. See OPT_PASS_LEVEL for level of each pass.</p></li>
<li><p><strong>add_pass</strong> (<em>set of str</em>) – Optimization pass to be added regardless of optimization level.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>config</strong> – The build configuration</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>BuildConfig</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nnvm.compiler.save_param_dict">
<code class="sig-prename descclassname">nnvm.compiler.</code><code class="sig-name descname">save_param_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.save_param_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Save parameter dictionary to binary bytes.</p>
<p>The result binary bytes can be loaded by the
GraphModule with API “load_params”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<em>dict of str to NDArray</em>) – The parameter dictionary.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>param_bytes</strong> – Serialized parameters.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytearray" title="(in Python v3.8)">bytearray</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># compile and save the modules to file.</span>
<span class="n">graph</span><span class="p">,</span> <span class="n">lib</span><span class="p">,</span> <span class="n">params</span> <span class="o">=</span> <span class="n">nnvm</span><span class="o">.</span><span class="n">compiler</span><span class="o">.</span><span class="n">build</span><span class="p">(</span>
   <span class="n">graph</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="n">data_shape</span><span class="p">},</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="n">module</span> <span class="o">=</span> <span class="n">graph_runtime</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">lib</span><span class="p">,</span> <span class="n">tvm</span><span class="o">.</span><span class="n">gpu</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="c1"># save the parameters as byte array</span>
<span class="n">param_bytes</span> <span class="o">=</span> <span class="n">nnvm</span><span class="o">.</span><span class="n">compiler</span><span class="o">.</span><span class="n">save_param_dict</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
<span class="c1"># We can serialize the param_bytes and load it back later.</span>
<span class="c1"># Pass in byte array to module to directly set parameters</span>
<span class="n">module</span><span class="p">[</span><span class="s2">&quot;load_params&quot;</span><span class="p">](</span><span class="n">param_bytes</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="nnvm.compiler.load_param_dict">
<code class="sig-prename descclassname">nnvm.compiler.</code><code class="sig-name descname">load_param_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">param_bytes</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.load_param_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Load parameter dictionary to binary bytes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>param_bytes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytearray" title="(in Python v3.8)"><em>bytearray</em></a>) – Serialized parameters.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>params</strong> – The parameter dictionary.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict of str to NDArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nnvm.compiler.optimize">
<code class="sig-prename descclassname">nnvm.compiler.</code><code class="sig-name descname">optimize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">graph</span></em>, <em class="sig-param"><span class="n">shape</span></em>, <em class="sig-param"><span class="n">dtype</span><span class="o">=</span><span class="default_value">'float32'</span></em>, <em class="sig-param"><span class="n">layout</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.optimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform target and parameter invariant graph optimization.</p>
<p>This is an advanced function that usually do not need to be called.
Call build instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>graph</strong> (<a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph"><em>Graph</em></a>) – The graph to be used in optimized.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>graph</strong> – The optimized graph.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph">Graph</a></p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-nnvm.compiler.graph_util"></span><p>Utility function to get information from graph.</p>
<dl class="py function">
<dt id="nnvm.compiler.graph_util.check_graph_equal">
<code class="sig-prename descclassname">nnvm.compiler.graph_util.</code><code class="sig-name descname">check_graph_equal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">grapha</span></em>, <em class="sig-param"><span class="n">graphb</span></em>, <em class="sig-param"><span class="n">compare_variable_attrs</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.graph_util.check_graph_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if two graphs have equal structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grapha</strong> (<a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph"><em>Graph</em></a>) – The first graph</p></li>
<li><p><strong>graphb</strong> (<a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph"><em>Graph</em></a>) – The second graph</p></li>
<li><p><strong>compare_variable_attrs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether we want to compare attributes(names) on variables.
Usually it is safe to skip it unless we want input name
to exactly match</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – ValueError is raised with error message when graph not equal</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nnvm.compiler.graph_util.get_gradient_graph">
<code class="sig-prename descclassname">nnvm.compiler.graph_util.</code><code class="sig-name descname">get_gradient_graph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ys</span></em>, <em class="sig-param"><span class="n">xs</span></em>, <em class="sig-param"><span class="n">grad_ys</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.graph_util.get_gradient_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Create gradient graph of ys with respect to xs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ys</strong> (<a class="reference internal" href="symbol.html#nnvm.symbol.Symbol" title="nnvm.symbol.Symbol"><em>Symbol</em></a><em> or </em><em>list of Symbol</em>) – Symbols from which the gradient is calculated.</p></li>
<li><p><strong>xs</strong> (<a class="reference internal" href="symbol.html#nnvm.symbol.Symbol" title="nnvm.symbol.Symbol"><em>Symbol</em></a><em> or </em><em>list of Symbol</em>) – Symbols the gradient respect to.
For group symbol, gradients for all outputs will be calculated.</p></li>
<li><p><strong>grad_ys</strong> (<a class="reference internal" href="symbol.html#nnvm.symbol.Symbol" title="nnvm.symbol.Symbol"><em>Symbol</em></a><em> or </em><em>list of Symbol</em>) – Head gradients for ys.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ret</strong> – Generated gradient graph.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph">Graph</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nnvm.compiler.graph_util.gradients">
<code class="sig-prename descclassname">nnvm.compiler.graph_util.</code><code class="sig-name descname">gradients</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ys</span></em>, <em class="sig-param"><span class="n">xs</span></em>, <em class="sig-param"><span class="n">grad_ys</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.graph_util.gradients" title="Permalink to this definition">¶</a></dt>
<dd><p>Create gradient symbol of ys respect to xs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ys</strong> (<a class="reference internal" href="symbol.html#nnvm.symbol.Symbol" title="nnvm.symbol.Symbol"><em>Symbol</em></a><em> or </em><em>list of Symbol</em>) – Symbols from which the gradient is calculated.</p></li>
<li><p><strong>xs</strong> (<a class="reference internal" href="symbol.html#nnvm.symbol.Symbol" title="nnvm.symbol.Symbol"><em>Symbol</em></a><em> or </em><em>list of Symbol</em>) – Symbols the gradient respect to.
For group symbol, gradients for all outputs will be calculated.</p></li>
<li><p><strong>grad_ys</strong> (<a class="reference internal" href="symbol.html#nnvm.symbol.Symbol" title="nnvm.symbol.Symbol"><em>Symbol</em></a><em> or </em><em>list of Symbol</em>) – Head gradients for ys.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ret</strong> – Generated gradient symbol. For each xs,
all gradients from ys are merged into a single symbol.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of Symbol</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nnvm.compiler.graph_util.infer_dtype">
<code class="sig-prename descclassname">nnvm.compiler.graph_util.</code><code class="sig-name descname">infer_dtype</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">graph</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">dtype</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.graph_util.infer_dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>Infer the type given the typeS of inputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> (<a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph"><em>Graph</em></a>) – The graph to perform type inference from</p></li>
<li><p><strong>dtype</strong> (<em>dict of str to dtype</em>) – The specific input data type.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>in_dtype</strong> (<em>list of tuple</em>) – Dtype of inputs</p></li>
<li><p><strong>out_dtype</strong> (<em>list of tuple</em>) – Dtype of outputs</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nnvm.compiler.graph_util.infer_shape">
<code class="sig-prename descclassname">nnvm.compiler.graph_util.</code><code class="sig-name descname">infer_shape</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">graph</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">shape</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.graph_util.infer_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Infer the shape given the shape of inputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> (<a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph"><em>Graph</em></a>) – The graph to perform shape inference from</p></li>
<li><p><strong>shape</strong> (<em>dict of str to tuple</em>) – The specific input shape.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>in_shape</strong> (<em>list of tuple</em>) – Shape of inputs</p></li>
<li><p><strong>out_shape</strong> (<em>list of tuple</em>) – Shape of outputs</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-nnvm.compiler.graph_attr"></span><p>Utilities to access graph attributes</p>
<dl class="py function">
<dt id="nnvm.compiler.graph_attr.set_dtype_inputs">
<code class="sig-prename descclassname">nnvm.compiler.graph_attr.</code><code class="sig-name descname">set_dtype_inputs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">g</span></em>, <em class="sig-param"><span class="n">dtype</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.graph_attr.set_dtype_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the dtype inputs of graph nodes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>g</strong> (<a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph"><em>Graph</em></a>) – The input graph</p></li>
<li><p><strong>dtype</strong> (<em>dict of str to str</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The input dtype</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>g</strong> – The updated graph with updated dtype.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph">Graph</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nnvm.compiler.graph_attr.set_layout_inputs">
<code class="sig-prename descclassname">nnvm.compiler.graph_attr.</code><code class="sig-name descname">set_layout_inputs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">g</span></em>, <em class="sig-param"><span class="n">layout</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.graph_attr.set_layout_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the layout inputs of graph nodes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>g</strong> (<a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph"><em>Graph</em></a>) – The input graph</p></li>
<li><p><strong>layout</strong> (<em>dict of str to str</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The input layout</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>g</strong> – The updated graph with updated layout.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph">Graph</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="nnvm.compiler.graph_attr.set_shape_inputs">
<code class="sig-prename descclassname">nnvm.compiler.graph_attr.</code><code class="sig-name descname">set_shape_inputs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">g</span></em>, <em class="sig-param"><span class="n">shape</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.graph_attr.set_shape_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the shape of input graph nodes in the graph attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>g</strong> (<a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph"><em>Graph</em></a>) – The input graph</p></li>
<li><p><strong>shape</strong> (<em>dict of str to tuple</em>) – The input shape</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>g</strong> – The updated graph with updated shape.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph">Graph</a></p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-nnvm.compiler.compile_engine"></span><p>Compiler engine interface to internal engine</p>
<p>You can get the engine singleton at <code class="docutils literal notranslate"><span class="pre">nnvm.compiler.engine</span></code></p>
<dl class="py class">
<dt id="nnvm.compiler.compile_engine.Engine">
<em class="property">class </em><code class="sig-prename descclassname">nnvm.compiler.compile_engine.</code><code class="sig-name descname">Engine</code><a class="headerlink" href="#nnvm.compiler.compile_engine.Engine" title="Permalink to this definition">¶</a></dt>
<dd><p>Global singleton compilation engine.</p>
<p>You can get the singleton at <code class="docutils literal notranslate"><span class="pre">nnvm.compiler.engine</span></code></p>
<dl class="py method">
<dt id="nnvm.compiler.compile_engine.Engine.clear_cache">
<code class="sig-name descname">clear_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.compile_engine.Engine.clear_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the existing cached functions.</p>
</dd></dl>

<dl class="py method">
<dt id="nnvm.compiler.compile_engine.Engine.dump">
<code class="sig-name descname">dump</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.compile_engine.Engine.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string representation of engine dump</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>dump</strong> – The dumped string representation</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="nnvm.compiler.compile_engine.Engine.items">
<code class="sig-name descname">items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.compile_engine.Engine.items" title="Permalink to this definition">¶</a></dt>
<dd><p>List the available cache key value pairs.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>item_list</strong> – The existing cache items</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list of (<a class="reference internal" href="#nnvm.compiler.compile_engine.GraphKey" title="nnvm.compiler.compile_engine.GraphKey">GraphKey</a>, <a class="reference internal" href="#nnvm.compiler.compile_engine.GraphCacheEntry" title="nnvm.compiler.compile_engine.GraphCacheEntry">GraphCacheEntry</a>)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="nnvm.compiler.compile_engine.GraphCacheEntry">
<em class="property">class </em><code class="sig-prename descclassname">nnvm.compiler.compile_engine.</code><code class="sig-name descname">GraphCacheEntry</code><a class="headerlink" href="#nnvm.compiler.compile_engine.GraphCacheEntry" title="Permalink to this definition">¶</a></dt>
<dd><p>CacheEntry of compilation into a TVM Function</p>
</dd></dl>

<dl class="py class">
<dt id="nnvm.compiler.compile_engine.GraphFunc">
<em class="property">class </em><code class="sig-prename descclassname">nnvm.compiler.compile_engine.</code><code class="sig-name descname">GraphFunc</code><a class="headerlink" href="#nnvm.compiler.compile_engine.GraphFunc" title="Permalink to this definition">¶</a></dt>
<dd><p>Compiled result of a graph into a TVM Function</p>
</dd></dl>

<dl class="py class">
<dt id="nnvm.compiler.compile_engine.GraphKey">
<em class="property">class </em><code class="sig-prename descclassname">nnvm.compiler.compile_engine.</code><code class="sig-name descname">GraphKey</code><a class="headerlink" href="#nnvm.compiler.compile_engine.GraphKey" title="Permalink to this definition">¶</a></dt>
<dd><p>Key of a graph compilation context</p>
</dd></dl>

<dl class="py function">
<dt id="nnvm.compiler.compile_engine.graph_key">
<code class="sig-prename descclassname">nnvm.compiler.compile_engine.</code><code class="sig-name descname">graph_key</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">graph</span></em>, <em class="sig-param"><span class="n">inputs</span></em>, <em class="sig-param"><span class="n">target</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.compile_engine.graph_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new graph key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> (<a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph"><em>Graph</em></a>) – The computation graph structure</p></li>
<li><p><strong>inputs</strong> (<em>list of Tensor</em><em>(</em><em>placeholder</em><em>)</em>) – The input requirement to the graph.</p></li>
<li><p><strong>target</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The target of compilation.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="frontend.html" class="btn btn-neutral float-right" title="nnvm.frontend" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="NNVM API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2017, tvm developers

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-75982049-2', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>